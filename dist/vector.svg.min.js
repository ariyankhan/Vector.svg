!function(t,e){"use strict";"function"==typeof define&&define.amd?define(function(){return e(t)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(t):t.Vector=e(t)}("undefined"!=typeof window?window:this,function(t){"use strict";Object.defineProperty;var e=Object.defineProperties,n=Array.prototype.slice,r=(Array.prototype.map,Array.prototype.splice,Math.floor),i=Array.prototype.reduce,o="http://www.w3.org/2000/svg",l=Array.isArray,u=Math.max,s=(Math.min,Object.create),a=function(t){return void 0===t||null===t},h=function(t){return null!==t&&("object"==typeof t||"function"==typeof t)},c=function(t){return"function"==typeof t},d=function(t,e){if(void 0===t||null===t)throw new TypeError("setPrototypeOf called on null or undefined");if(null!==e&&!h(e))throw new TypeError("Object prototype may only be an Object or null: "+String(e));var n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(void 0===n||!c(n.set))throw new TypeError("Object.prototype.__proto__ accessor property does not exist");return n.set.call(t,e),t},p=function(){var t=window.navigator.userAgent;return/MSIE/i.test(t)||/rv:11\.0/i.test(t)||/Edge/i.test(t)},f=function(){var t=window.navigator.userAgent;return/Firefox/i.test(t)||/Mozilla/i.test(t)},m={tokenSeparator:/\s+/,pointSeparator:/[,\s]+/,trimStartPointString:/^[,\s]+/,trimEndPointString:/[,\s]+$/,referenceAttrVal:/^url\(#(.+)\)$/,hrefAttrVal:/^#(.+)$/},g=function t(e,n,r){n=a(n)?"100%":n,r=a(r)?"100%":r;var i;return e instanceof Y?e.size(n,r):e instanceof window.SVGSVGElement?new Y(n,r,e):e instanceof window.HTMLElement?(i=new Y(n,r),e.appendChild(i._domElement),i):"string"==typeof e?t(document.getElementById(e),n,r):new Y(n,r)};g.merge=function(t){if(a(t))throw new TypeError("Target object can't be null or undefined");t=Object(t);var n,r,i;for(n=1;n<arguments.length;++n)r=arguments[n],a(r)||(r=Object(r),i=Object.getOwnPropertyNames(r).reduce(function(t,e){return t[e]=Object.getOwnPropertyDescriptor(r,e),t},{}),e(t,i));return t},g.merge(g,{ns:{svg:o,xlink:"http://www.w3.org/1999/xlink",ev:"http://www.w3.org/2001/xml-events",xhtml:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/2000/xmlns/"},createElement:function(t){return document.createElementNS(g.ns.svg,t)},setAttribute:function(t,e,n,r){return r=a(r)?null:r,t.setAttributeNS(r,e,n),this},setAttributes:function(t,e,n){return Object.keys(e).forEach(function(r){g.setAttribute(t,r,e[r],n)}),this},hasAttribute:function(t,e,n){return n=a(n)?null:n,t.hasAttributeNS(n,e)},getAttribute:function(t,e,n){return n=a(n)?null:n,t.getAttributeNS(n,e)},removeAttribute:function(t,e,n){return n=a(n)?null:n,t.removeAttributeNS(n,e),this},uuid:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&n]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&i]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]}}(),unique:function(t){if(a(t))return[];for(var e,n,r=Object(t),i=[],o={},l=[],u=[],s=g.uuid(),c=g.toIntLength(r.length),d=0;d<c;++d)e=r[d],h(e)?Object.isExtensible(e)?void 0===e[s]&&(i.push(e),e[s]=!0,u.push(i.length-1)):-1===l.indexOf(e)&&(i.push(e),l.push(e)):void 0===o[n=void 0===e?"U":null===e?"I":"string"==typeof e?"S_"+e:"number"==typeof e?"N_"+e:"boolean"==typeof e?"B_"+e:e]&&(i.push(e),o[n]=!0);return u.forEach(function(t){delete i[t][s]}),i},wrap:function(t){if(!(t instanceof window.SVGElement))return null;if(g.isWrapped(t))return t._wrappingElement;switch(t.constructor){case window.SVGRectElement:return new N(void 0,void 0,void 0,void 0,void 0,void 0,t);case window.SVGCircleElement:return new K(void 0,void 0,void 0,t);case window.SVGPolylineElement:return new z(void 0,t);case window.SVGPolygonElement:return new R(void 0,t);case window.SVGLineElement:return new D(void 0,void 0,void 0,void 0,t);case window.SVGEllipseElement:return new W(void 0,void 0,void 0,void 0,t);case window.SVGPathElement:return new q(void 0,t);case window.SVGSVGElement:return new H(void 0,void 0,void 0,void 0,t);default:return new E(t)}},isWrapped:function(t){if(!h(t))return!1;var e=t._wrappingElement;return e instanceof E&&t instanceof e.constructor.domInterface&&e._domElement===t},toIntLength:function(t){return t=Number(t),t=isNaN(t)?0:t,t=u(0,t),t=r(t)},unHoles:function(t){return a(t)?[]:(t=Object(t),i.call(t,function(t,e){return t.push(e),t},[]))},points:function(t){if(a(t))return[];var e,n,i,o,l=[],u=0;for(e=(t=(t=String(t)).replace(m.trimStartPointString,"").replace(m.trimEndPointString,"")).split(m.pointSeparator),n=2*r(e.length/2);u<n;u+=2)i=+(i=e[u]),o=+(o=e[u+1]),isFinite(i)&&isFinite(o)&&l.push({x:i,y:o});return l},pointString:function(t){return h(t)||(t=g.points(t)),i.call(t,function(t,e){if(!h(e))return t;var n=e.x,r=e.y;return n=+String(n),r=+String(r),isFinite(n)&&isFinite(r)?(t.push(n+","+r),t):t},[]).join(" ")},isIEOrEdgeBrowser:p,isFirefox:f,distance:function(t,e,n,r){return t=+t,e=+e,n=+n,r=+r,isFinite(t)||(t=0),isFinite(e)||(e=0),isFinite(n)||(n=0),isFinite(r)||(r=0),Math.pow(Math.pow(t-n,2)+Math.pow(e-r,2),.5)},svgSupported:c(window.SVGElement)&&c(document.createElementNS)&&document.createElementNS(o,"svg")instanceof window.SVGElement});var w=function(){};w.prototype.exports={},g.merge(w,{makeInheritance:function(t){g.merge(t.prototype,this.prototype.exports)}}),g.merge(w.prototype.exports,{});var y=function(){};d(y,w),(y.prototype=Object.create(w.prototype)).constructor=y,y.prototype.exports={},g.merge(y.prototype.exports,{rect:function(t,e,n,r,i,o){var l=new N(t,e,n,r,i,o);return this.node().appendChild(l.node()),l},circle:function(t,e,n){var r=new K(t,e,n);return this.node().appendChild(r.node()),r},ellipse:function(t,e,n,r){var i=new W(t,e,n,r);return this.node().appendChild(i.node()),i},line:function(t,e,n,r){var i=new D(t,e,n,r);return this.node().appendChild(i.node()),i},path:function(t){var e=new q(t);return this.node().appendChild(e.node()),e},polygon:function(t){var e=new R(t);return this.node().appendChild(e.node()),e},polyline:function(t){var e=new z(t);return this.node().appendChild(e.node()),e}});var v=function(){};d(v,w),(v.prototype=Object.create(w.prototype)).constructor=v,v.prototype.exports={},g.merge(v.prototype.exports,{element:function(t){var e=new E(g.createElement(t));return this.node().appendChild(e.node()),e}});var E=g.Element=function(t){if(t instanceof this.constructor.domInterface){if(g.isWrapped(t)&&t._wrappingElement instanceof this.constructor)return t._wrappingElement}else t=null!==this.tag?g.createElement(this.tag):null;this._domElement=t,this._events={},null!==t&&(t._wrappingElement=this)};g.merge(E,{domInterface:window.SVGElement}),g.merge(E.prototype,{tag:null,_defaultAttrValues:{fill:"#000","fill-opacity":"1",stroke:"#000","stroke-width":"0","stroke-opacity":"1","stroke-linecap":"butt","stroke-linejoin":"miter",opacity:"1","font-size":"16","font-family":"sans-serif","text-anchor":"start","stop-color":"#000","stop-opacity":"1",offset:"0"},_setAttrGetterSetter:function(t,e){return void 0===e?this.attr(t):this.attr(t,e)},attr:function(t){var e,n,r,i,o,u,s,c,d=this,p=this._domElement,f=0;if(0===arguments.length){if(c={},i=p.attributes,window.NamedNodeMap&&i instanceof window.NamedNodeMap)for(o=i.length,f=0;f<o;++f)null!==(u=i.item(f))&&(c[u.localName]=b(u.localName,u.value,u.namespaceURI));else Object.keys(i).forEach(function(t){c[t]=b(t,i[t],null)});return c}return 1===arguments.length?(e=arguments[0],l(e)?d.attr(e,null):h(e)?d.attr(e,null):(u=String(e),g.hasAttribute(p,u,null)?b(u,g.getAttribute(p,u,null),null):void 0!==(s=d._defaultAttrValues[u])?b(u,s,null):null)):2===arguments.length?(e=arguments[0],n=arguments[1],l(e)?(n=a(n)?null:n,e.reduce(function(t,e){e=String(e);var r;return r=g.hasAttribute(p,e,n)?b(e,g.getAttribute(p,e,n),n):null===n&&void 0!==(s=d._defaultAttrValues[e])?b(e,s,null):null,t[e]=r,t},{})):h(e)?(n=a(n)?null:n,Object.keys(e).forEach(function(t){var r=e[t];void 0===r||(null===r?g.removeAttribute(p,t,n):g.setAttribute(p,t,_(t,r,n),n))}),d):d.attr(String(e),n,null)):arguments.length>=3?(e=arguments[0],n=arguments[1],r=arguments[2],l(e)?d.attr(e,n):h(e)?d.attr(e,n):(r=a(r)?null:r,s=String(e),null===n?g.removeAttribute(p,s,r):void 0===n||g.setAttribute(p,s,_(s,n,r),r),d)):void 0},css:function(){},font:function(t){var e,n=["font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight"],r=["family","size","adjust","stretch","style","variant","weight"],i=0;n.length;return null===t?this.attr(n.reduce(function(t,e){return t[e]=null,t},{})):h(t)?(i=0,this.attr(n.reduce(function(e,n){var o=t[r[i]];return i++,void 0!==o&&(e[n]=o),e},{}))):(e=this.attr(n),i=0,r.reduce(function(t,r){return t[r]=e[n[i]],i++,t},{}))},node:function(){return this._domElement}}),w.makeInheritance(E),v.makeInheritance(E);var b=function(t,e,n){var r,i,o;switch(t=String(t),e=String(e),n=a(n)?null:n,t){case"class":return null!==n?e:g.unique(e.trim().split(m.tokenSeparator));case"mask":case"clip-path":case"fill":case"stroke":return null!==n?e:(r=m.referenceAttrVal.exec(e))?(o=document.getElementById(r[1]),g.isWrapped(o)?o._wrappingElement:e):e;case"href":if(n===g.ns.xlink)r=m.referenceAttrVal.exec(e);else{if(null!==n)return e;r=m.hrefAttrVal.exec(e)}return r?(o=document.getElementById(r[1]),g.isWrapped(o)?o._wrappingElement:e):e;case"cx":case"cy":case"font-size":case"font-weight":case"height":case"r":case"rx":case"ry":case"stroke-dasharray":case"stroke-dashoffset":case"stroke-width":case"width":case"x":case"x1":case"x2":case"y":case"y1":case"y2":case"pathLength":return null!==n?e:(i=+e,isFinite(i)?i:e);default:return e}},_=function(t,e,n){if(t=String(t),n=a(n)?null:n,!h(e))return String(e);switch(t){case"class":return null!==n?e.toString():g.unHoles(e).join(" ").trim();case"mask":default:return e.toString()}};g.merge(E.prototype,{on:function(t,e,r,i){if(null===this._domElement)return this;if(!c(e))throw new TypeError("EventListener is not callable");t=String(t),i=Boolean(i),r=arguments.length>=3?r:this;var o,l,u=this,s=0;if(o=this._events[t],l=function(){e.apply(r,n.call(arguments))},o){for(;s<o.length;++s)if(o[s].listener===e&&o[s].useCapture===i)return this}else o=this._events[t]=[];return o.push({listener:e,wrapperListener:l,useCapture:i}),this._domElement.addEventListener?this._domElement.addEventListener(t,l,i):this._domElement.attachEvent("on"+t,l),u},off:function(t,e,n){if(null===this._domElement)return this;var r=this._events,i=this;if(0===arguments.length)Object.keys(r).forEach(function(t){r[t].forEach(function(e){i._domElement.removeEventListener?i._domElement.removeEventListener(t,e.wrapperListener,e.useCapture):i._domElement.detachEvent("on"+t,e.wrapperListener)})}),this._events={};else if(1===arguments.length){if(t=String(t),!r[t])return i;r[t].forEach(function(e){i._domElement.removeEventListener?i._domElement.removeEventListener(t,e.wrapperListener,e.useCapture):i._domElement.detachEvent("on"+t,e.wrapperListener)}),delete r[t]}else{if(!c(e))throw new TypeError("EventListener is not callable");t=String(t),n=Boolean(n);var o,l=0;if(!(o=this._events[t]))return i;for(;l<o.length;++l)if(o[l].listener===e&&o[l].useCapture===n){i._domElement.removeEventListener?i._domElement.removeEventListener(t,o[l].wrapperListener,o[l].useCapture):i._domElement.detachEvent("on"+t,o[l].wrapperListener),o.splice(l,1);break}0===o.length&&delete r[t]}return i},once:function(t,e,r,i){if(null===this._domElement)return this;if(!c(e))throw new TypeError("EventListener is not callable");t=String(t),i=Boolean(i),r=arguments.length>=3?r:this;var o,l,u=this,s=0;if(o=this._events[t],l=function(){e.apply(r,n.call(arguments)),u.off(t,e,i)},o){for(;s<o.length;++s)if(o[s].listener===e&&o[s].useCapture===i)return this}else o=this._events[t]=[];return o.push({listener:e,wrapperListener:l,useCapture:i}),this._domElement.addEventListener?this._domElement.addEventListener(t,l,i):this._domElement.attachEvent("on"+t,l),u},emit:function(t,e,n){if(null===this._domElement)return this;t=String(t),n=Boolean(n);var r;return c(window.CustomEvent)?r=new window.CustomEvent(t,{detail:e,bubbles:n,cancelable:!0}):c(document.createEvent)?(r=document.createEvent("CustomEvent")).initCustomEvent(t,n,!0,e):(r=document.createEventObject()).detail=e,c(this._domElement.dispatchEvent)?this._domElement.dispatchEvent(r):this._domElement.fireEvent("on"+t,r),this},focus:function(){if(null===this._domElement)return this;this._domElement.focus()},blur:function(){if(null===this._domElement)return this;this._domElement.blur()},focusin:function(){if(null===this._domElement)return this;this._domElement.focus()},focuseout:function(){if(null===this._domElement)return this;this._domElement.blur()},click:function(){return null===this._domElement?this:(x(this,"click"),this)},dblclick:function(){return null===this._domElement?this:(x(this,"dblclick"),this)},mousedown:function(){return null===this._domElement?this:(x(this,"mousedown"),this)},mouseup:function(){return null===this._domElement?this:(x(this,"mouseup"),this)},mousemove:function(){return null===this._domElement?this:(x(this,"mousemove"),this)},mouseout:function(){return null===this._domElement?this:(x(this,"mouseout"),this)},mouseover:function(){return null===this._domElement?this:(x(this,"mouseover"),this)},mouseenter:function(){return null===this._domElement?this:(x(this,"mouseenter"),this)},mouseleave:function(){return null===this._domElement?this:(x(this,"mouseleave"),this)},keydown:function(){return null===this._domElement?this:(L(this,"keydown"),this)},keypress:function(){return null===this._domElement?this:(L(this,"keypress"),this)},keyup:function(){return null===this._domElement?this:(L(this,"keyup"),this)},onclick:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"onclick",t,e)},ondblclick:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"ondblclick",t,e)},onmousedown:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"onmousedown",t,e)},onmousemove:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"onmousemove",t,e)},onmouseout:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"onmouseout",t,e)},onmouseover:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"onmouseover",t,e)},onmouseup:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"onmouseup",t,e)},onmouseenter:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"onmouseenter",t,e)},onmouseleave:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"onmouseleave",t,e)},ontouchstart:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"ontouchstart",t,e)},ontouchend:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"ontouchend",t,e)},ontouchmove:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"ontouchmove",t,e)},ontouchcancel:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"ontouchcancel",t,e)},ondrag:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"ondrag",t,e)},ondragend:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"ondragend",t,e)},ondragenter:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"ondragenter",t,e)},ondragleave:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"ondragleave",t,e)},ondragover:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"ondragover",t,e)},ondragstart:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"oondragstart",t,e)},ondrop:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"ondrop",t,e)},onblur:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"onblur",t,e)},onfocus:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"onfocus",t,e)},oncontextmenu:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"oncontextmenu",t,e)},onkeydown:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"onkeydown",t,e)},onkeypress:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"onkeypress",t,e)},onkeyup:function(t,e){if(arguments.length>=1&&null!==t&&!c(t))throw new TypeError("Listener is not null or callable");return e=arguments.length>=2?e:this,V(this,"onkeyup",t,e)}});var A=function(t){var e;return c(window.MouseEvent)?e=new window.MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,buttons:0,relatedTarget:null,region:null}):c(document.createEvent)?(e=document.createEvent("MouseEvent")).initMouseEvent(t,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null):e=document.createEventObject(),e},x=function(t,e){var n=A(e);c(t._domElement.dispatchEvent)?t._domElement.dispatchEvent(n):t._domElement.fireEvent("on"+e,n)},S=function(t){var e;return c(window.KeyboardEvent)?e=new window.KeyboardEvent(t,{bubbles:!0,cancelable:!0,view:window,detail:0,key:"",code:"",location:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,repeat:!1,isComposing:!1,charCode:0,keyCode:0,which:0}):document.createEvent?(e=document.createEvent("KeyboardEvent"),c(e.initKeyboardEvent)?p()?e.initKeyboardEvent(t,!0,!0,window,"",0,"",!1,""):e.initKeyboardEvent(t,!0,!0,window):e.initKeyEvent(t,!0,!0,window,!1,!1,!1,!1,0,0)):e=document.createEventObject(),e},L=function(t,e){var n=S(e);c(t._domElement.dispatchEvent)?t._domElement.dispatchEvent(n):t._domElement.fireEvent("on"+e,n)},V=function(t,e,n,r){var i;return null===n?(t._domElement[e]=null,t):c(n)?(i=n.bind(r),i._listener=n,t._domElement[e]=i,t):(i=t._domElement[e],c(i)&&c(i._listener)?i._listener:null)};g.merge(E.prototype,{children:function(){var t,e,n,r=[],i=0;for(t=(n=this._domElement.childNodes).length;i<t;++i)(e=n.item(i))instanceof window.SVGElement&&r.push(g.wrap(e));return r},insert:function(t,e){if(!(t instanceof E))return this;if(a(e))return this.append(t);var n=this.children();return 0===n.length?this.append(t):(e=+e,e=isNaN(e)?0:e,e=u(0,e),(e=r(e))>=n.length?this.append(t):(this.node().insertBefore(t.node(),n[e].node()),this))},append:function(t){return t instanceof E?(this.node().appendChild(t.node()),this):this},remove:function(t){if(t instanceof E)this.node().removeChild(t.node());else if("number"==typeof t)return this.remove(this.children()[t]);return this},has:function(t){if(!(t instanceof E))return!1;for(var e=this.children(),n=e.length,r=0;r<n;++r)if(e[r].node()===t.node())return!0;return!1},replace:function(t,e){return t instanceof E&&e instanceof E?(this.node().replaceChild(t.node(),e.node()),this):this},textContent:function(t){return void 0===t?this.node().textContent:(this.node().textContent=t,this)},byId:function(){},query:function(){},queryAll:function(){}});var G=g.Graphics=function(t){var e=E.call(this,t);if(e)return e};d(G,E),G.prototype=s(E.prototype),G.prototype.constructor=G,g.merge(G,{domInterface:window.SVGElement}),g.merge(G.prototype,{tag:null,_defaultAttrValues:g.merge(g.merge({},G.prototype._defaultAttrValues),{})});var k=g.Geometry=function(t){var e=G.call(this,t);if(e)return e};d(k,G),k.prototype=s(G.prototype),k.prototype.constructor=k,g.merge(k,{domInterface:window.SVGElement}),g.merge(k.prototype,{tag:null,_defaultAttrValues:g.merge(g.merge({},k.prototype._defaultAttrValues),{pathLength:"0"}),pathLength:function(t){return this._setAttrGetterSetter("pathLength",t)},length:function(){var t=this._domElement;switch(t.constructor){case q.domInterface:return T(t);case N.domInterface:return F(t);case K.domInterface:return j(t);case W.domInterface:return B(t);case D.domInterface:return O(t);case z.domInterface:return M(t);case R.domInterface:return P(t);default:return 0}}});var T=function(t){return t.getTotalLength()},F=function(t){var e,n,r;if(c(t.getTotalLength))return t.getTotalLength();if(f()){if(g.hasAttribute(t,"width",null)&&g.hasAttribute(t,"height",null)&&(n=parseFloat(g.getAttribute(t,"width",null)),r=parseFloat(g.getAttribute(t,"height",null)),isFinite(n)&&n>0&&isFinite(r)&&r>0&&c(t.getBBox)))return 2*((e=t.getBBox()).width+e.height)}else if(c(t.getBBox))return 2*((e=t.getBBox()).width+e.height);return n=g.hasAttribute(t,"width",null)?g.getAttribute(t,"width",null):0,r=g.hasAttribute(t,"height",null)?g.getAttribute(t,"height",null):0,n=parseFloat(n),r=parseFloat(r),isFinite(n)&&n>=0||(n=0),isFinite(r)&&r>=0||(r=0),2*(n+r)},j=function(t){var e,n;return c(t.getTotalLength)?t.getTotalLength():c(t.getBBox)?(e=t.getBBox(),n=e.width/2,2*Math.PI*n):(n=g.hasAttribute(t,"r",null)?g.getAttribute(t,"r",null):0,n=parseFloat(n),isFinite(n)&&n>=0||(n=0),2*Math.PI*n)},B=function(t){var e,n,r;if(c(t.getTotalLength))return t.getTotalLength();if(f()){if(g.hasAttribute(t,"rx",null)&&g.hasAttribute(t,"ry",null)&&(n=parseFloat(g.getAttribute(t,"rx",null)),r=parseFloat(g.getAttribute(t,"ry",null)),isFinite(n)&&n>0&&isFinite(r)&&r>0&&c(t.getBBox)))return e=t.getBBox(),I(e.width/2,e.height/2)}else if(c(t.getBBox))return e=t.getBBox(),I(e.width/2,e.height/2);return n=g.hasAttribute(t,"rx",null)?g.getAttribute(t,"rx",null):0,r=g.hasAttribute(t,"ry",null)?g.getAttribute(t,"ry",null):0,n=parseFloat(n),r=parseFloat(r),isFinite(n)&&n>=0||(n=0),isFinite(r)&&r>=0||(r=0),I(n,r)},I=function(t,e){if(0===t&&0===e)return 0;var n=Math.pow(t-e,2)/Math.pow(t+e,2);return Math.PI*(t+e)*(1+3*n/(10+Math.pow(4-3*n,.5)))},O=function(t){var e,n,r,i,o;return c(t.getTotalLength)?t.getTotalLength():c(t.getBBox)?(e=t.getBBox(),C(e.width,e.height)):(n=g.hasAttribute(t,"x1",null)?g.getAttribute(t,"x1",null):0,r=g.hasAttribute(t,"y1",null)?g.getAttribute(t,"y1",null):0,i=g.hasAttribute(t,"x2",null)?g.getAttribute(t,"x2",null):0,o=g.hasAttribute(t,"y2",null)?g.getAttribute(t,"y2",null):0,n=parseFloat(n),r=parseFloat(r),i=parseFloat(i),o=parseFloat(o),isFinite(n)||(n=0),isFinite(r)||(r=0),isFinite(i)||(i=0),isFinite(o)||(o=0),g.distance(n,r,i,o))},C=function(t,e){return Math.pow(t*t+e*e,.5)},M=function(t){var e,n=0;return c(t.getTotalLength)?t.getTotalLength():(e=g.hasAttribute(t,"points",null)?g.getAttribute(t,"points",null):"",0===(e=g.points(e)).length?0:(e.reduce(function(t,e){return n+=g.distance(t.x,t.y,e.x,e.y),e}),n))},P=function(t){var e,n=0;return c(t.getTotalLength)?t.getTotalLength():(e=g.hasAttribute(t,"points",null)?g.getAttribute(t,"points",null):"",0===(e=g.points(e)).length?0:(e.push(e[0]),e.reduce(function(t,e){return n+=g.distance(t.x,t.y,e.x,e.y),e}),n))},N=g.Rect=function(t,e,n,r,i,o,l){var u=k.call(this,l),s={width:t,height:e,x:n,y:r,rx:i,ry:o};if(u)return u.attr(s,null),u;this.attr(s,null)};d(N,k),N.prototype=Object.create(k.prototype),N.prototype.constructor=N,g.merge(N,{domInterface:window.SVGRectElement}),g.merge(N.prototype,{tag:"rect",_defaultAttrValues:g.merge(g.merge({},N.prototype._defaultAttrValues),{width:"0",height:"0",x:"0",y:"0",rx:"0",ry:"0"}),width:function(t){return this._setAttrGetterSetter("width",t)},height:function(t){return this._setAttrGetterSetter("height",t)},x:function(t){return this._setAttrGetterSetter("x",t)},y:function(t){return this._setAttrGetterSetter("y",t)},rx:function(t){return this._setAttrGetterSetter("rx",t)},ry:function(t){return this._setAttrGetterSetter("ry",t)},size:function(t,e){return void 0===t&&void 0===e?{width:this.width(),height:this.height()}:(void 0!==t&&this.width(t),void 0!==e&&this.height(e),this)}});var K=g.Circle=function(t,e,n,r){var i=k.call(this,r),o={r:t,cx:e,cy:n};if(i)return i.attr(o,null),i;this.attr(o,null)};d(K,k),K.prototype=Object.create(k.prototype),K.prototype.constructor=K,g.merge(K,{domInterface:window.SVGCircleElement}),g.merge(K.prototype,{tag:"circle",_defaultAttrValues:g.merge(g.merge({},K.prototype._defaultAttrValues),{r:"0",cx:"0",cy:"0"}),r:function(t){return this._setAttrGetterSetter("r",t)},cx:function(t){return this._setAttrGetterSetter("cx",t)},cy:function(t){return this._setAttrGetterSetter("cy",t)}});var z=g.Polyline=function(t,e){var n=k.call(this,e),r={points:t};if(n)return n.attr(r,null),n;this.attr(r,null)};d(z,k),z.prototype=Object.create(k.prototype),z.prototype.constructor=z,g.merge(z,{domInterface:window.SVGPolylineElement}),g.merge(z.prototype,{tag:"polyline",_defaultAttrValues:g.merge(g.merge({},z.prototype._defaultAttrValues),{points:""}),points:function(t){return this._setAttrGetterSetter("points",t)}});var R=g.Polygon=function(t,e){var n=k.call(this,e),r={points:t};if(n)return n.attr(r,null),n;this.attr(r,null)};d(R,k),R.prototype=Object.create(k.prototype),R.prototype.constructor=R,g.merge(R,{domInterface:window.SVGPolygonElement}),g.merge(R.prototype,{tag:"polygon",_defaultAttrValues:g.merge(g.merge({},R.prototype._defaultAttrValues),{points:""}),points:function(t){return this._setAttrGetterSetter("points",t)}});var D=g.Line=function(t,e,n,r,i){var o=k.call(this,i),l={x1:t,y1:e,x2:n,y2:r};if(o)return o.attr(l,null),o;this.attr(l,null)};d(D,k),D.prototype=Object.create(k.prototype),D.prototype.constructor=D,g.merge(D,{domInterface:window.SVGLineElement}),g.merge(D.prototype,{tag:"line",_defaultAttrValues:g.merge(g.merge({},D.prototype._defaultAttrValues),{x1:"0",y1:"0",x2:"0",y2:"0"}),x1:function(t){return this._setAttrGetterSetter("x1",t)},y1:function(t){return this._setAttrGetterSetter("y1",t)},x2:function(t){return this._setAttrGetterSetter("x2",t)},y2:function(t){return this._setAttrGetterSetter("y2",t)},from:function(t,e){return void 0===t&&void 0===e?{x:this.x1(),y:this.y1()}:(void 0!==t&&this.x1(t),void 0!==e&&this.y1(e),this)},to:function(t,e){return void 0===t&&void 0===e?{x:this.x2(),y:this.y2()}:(void 0!==t&&this.x2(t),void 0!==e&&this.y2(e),this)}});var W=g.Ellipse=function(t,e,n,r,i){var o=k.call(this,i),l={rx:t,ry:e,cx:n,cy:r};if(o)return o.attr(l,null),o;this.attr(l,null)};d(W,k),W.prototype=Object.create(k.prototype),W.prototype.constructor=W,g.merge(W,{domInterface:window.SVGEllipseElement}),g.merge(W.prototype,{tag:"ellipse",_defaultAttrValues:g.merge(g.merge({},W.prototype._defaultAttrValues),{rx:"0",ry:"0",cx:"0",cy:"0"}),rx:function(t){return this._setAttrGetterSetter("rx",t)},ry:function(t){return this._setAttrGetterSetter("ry",t)},cx:function(t){return this._setAttrGetterSetter("cx",t)},cy:function(t){return this._setAttrGetterSetter("cy",t)}});var q=g.Path=function(t,e){var n=k.call(this,e),r={d:t};if(n)return n.attr(r,null),n;this.attr(r,null)};d(q,k),q.prototype=Object.create(k.prototype),q.prototype.constructor=q,g.merge(q,{domInterface:window.SVGPathElement}),g.merge(q.prototype,{tag:"path",_defaultAttrValues:g.merge(g.merge({},q.prototype._defaultAttrValues),{d:""}),d:function(t){return this._setAttrGetterSetter("d",t)}});var H=g.SVG=function(t,e,n,r,i){var o=G.call(this,i),l={width:t,height:e,x:n,y:r};if(o)return o.attr(l,null),o;this.attr(l,null)};d(H,G),H.prototype=Object.create(G.prototype),H.prototype.constructor=H,g.merge(H,{domInterface:window.SVGSVGElement}),g.merge(H.prototype,{tag:"svg",_defaultAttrValues:g.merge(g.merge({},H.prototype._defaultAttrValues),{width:"100%",height:"100%",x:"0",y:"0",preserveAspectRatio:"xMidYMid meet"}),width:function(t){return this._setAttrGetterSetter("width",t)},height:function(t){return this._setAttrGetterSetter("height",t)},x:function(t){return this._setAttrGetterSetter("x",t)},y:function(t){return this._setAttrGetterSetter("y",t)},size:function(t,e){return void 0===t&&void 0===e?{width:this.width(),height:this.height()}:(void 0!==t&&this.width(t),void 0!==e&&this.height(e),this)},viewBox:function(t,e,n,r){var i,o,l,u=this._getViewBoxDefValue();return void 0===t&&void 0===e&&void 0===n&&void 0===r?null===(l=this.attr("viewBox"))?u:(l=l.trim(),(i=l.split(m.tokenSeparator)).length<4?u:(t=i[0],e=i[1],n=i[2],r=i[3],t=+t,e=+e,n=+n,r=+r,isFinite(t)&&isFinite(e)&&isFinite(n)&&n>=0&&isFinite(r)&&r>=0?{x:t,y:e,width:n,height:r}:u)):(h(t)&&(t=(i=t).x,e=i.y,n=i.width,r=i.height),o=this.viewBox(),void 0===t&&(t=o.x),void 0===e&&(e=o.y),void 0===n&&(n=o.width),void 0===r&&(r=o.height),t=+t,e=+e,n=+n,r=+r,l=t+" "+e+" "+n+" "+r,this.attr("viewBox",l),this)},_getViewBoxDefValue:function(){var t,e,n=parseFloat(this._defaultAttrValues.width),r=parseFloat(this._defaultAttrValues.height);return t=this.width(),e=this.height(),t=parseFloat(t),e=parseFloat(e),isFinite(t)&&t>=0||(t=n),isFinite(e)&&e>=0||(e=r),{x:0,y:0,width:t,height:e}},aspectRatio:function(t){return this._setAttrGetterSetter("preserveAspectRatio",t)}}),y.makeInheritance(H);var Y=g.SVGDoc=function(t,e,n){var r=H.call(this,void 0,void 0,void 0,void 0,n),i={width:t,height:e};if(r)return r.attr(i,null),r._setup(),r;this.attr(i,null),this._setup()};return d(Y,H),Y.prototype=Object.create(H.prototype),Y.prototype.constructor=Y,g.merge(Y,{domInterface:window.SVGSVGElement}),g.merge(Y.prototype,{tag:"svg",_defaultAttrValues:g.merge(g.merge({},Y.prototype._defaultAttrValues),{width:"100%",height:"100%"}),_setup:function(){var t=this._domElement;g.setAttribute(t,"version","1.1",null),t.setAttribute("xmlns",g.ns.svg),g.setAttribute(t,"xmlns:xlink",g.ns.xlink,g.ns.xml)},container:function(t){if(t instanceof window.HTMLElement)t.appendChild(this._domElement);else if("string"==typeof t)return this.container(document.getElementById(t));return this}}),g.merge(E.prototype,{binder:function(){},bind:function(){}}),g.merge(E.prototype,{data:function(){}}),g});